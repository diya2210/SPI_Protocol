# SPI_Protocol

# SPI Master-Slave Communication in SystemVerilog

This project demonstrates a simple SPI (Serial Peripheral Interface) communication protocol implemented in SystemVerilog, featuring both Master and Slave modules. It's designed for simulation using a testbench to verify correct data transmission between the two ends.

## 📌 Features

- ✅ SPI Master module
- ✅ SPI Slave module
- ✅ Full-duplex communication (MOSI & MISO lines)
- ✅ Configurable 16-bit data width
- ✅ Waveform-verified operation using GTKWave
- ✅ Clean modular design with comments

---

## 📁 Files Included

| File               | Description                              |
|--------------------|------------------------------------------|
| `spi_master.sv`    | SPI Master module                        |
| `spi_slave.sv`     | SPI Slave module                         |
| `tb_spi_system.sv` | Testbench connecting Master and Slave    |
| `README.md`        | Project documentation                    |
| `dump.vcd`         | VCD file generated for waveform analysis |

---

## ⚙️ How It Works

- The **SPI Master** initiates communication by asserting the `CS` signal low and sending data through the `MOSI` line.
- Simultaneously, the **SPI Slave** receives the data on `MOSI` and responds with its own data on the `MISO` line.
- Data is synchronized on the **rising edge** of the `SCLK` line.
- After 16 clock cycles, both devices complete the transaction and output their `received_data`.

---

## 🔍 Signals to Observe in Waveform

| Signal        | Description                             |
|---------------|-----------------------------------------|
| `spi_cs_l`    | Active-low Chip Select from Master      |
| `spi_sclk`    | Clock line generated by Master          |
| `spi_data`    | MOSI: Master Out, Slave In              |
| `spi_miso`    | MISO: Slave Out, Master In              |
| `received_data` | Final received 16-bit data at each end |
| `counter`     | Shift counter (should count 16 bits)    |

✅ Check if:
- Clock edges are correct (observe `spi_sclk`)
- Master’s `datain` appears on `spi_data`
- Slave’s `slave_data` appears on `spi_miso`
- Received data matches expected values at both ends

---


